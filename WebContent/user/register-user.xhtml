<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h ="http://java.sun.com/jsf/html"
	  xmlns:f ="http://xmlns.jcp.org/jsf/core"
	  xmlns:p ="http://primefaces.org/ui"
	  xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Cadastrar Novo Usuário</title>
</h:head>

<h:body>
	<ui:include src="/templates/header.xhtml" />
	<p:panel header="Cadastro de Novo Usuário">
		<p:growl autoUpdate="true" globalOnly="true"></p:growl>
			<h:form>													
					<p:panelGrid columns="3">
						<h:outputLabel value="Nome de Usuário"/>													
						<p:inputText id="txtNmUser" 
						value="#{UserMB.user.nmUser}"
						required="true"
						requiredMessage="Preencha o Nome de Usuário"
						validatorMessage="Nome de Usuário Inválido"
						placeholder="username">
							<f:validateLength for="txtNmUser" minimum="4" maximum="70"></f:validateLength>
						</p:inputText>
						<p:messages for="txtNmUser" autoUpdate="true"></p:messages>
						
						<h:outputLabel value="Senha"/>					
						<p:password id="txtVlPassw"
						value="#{UserMB.user.vlPassw}"
						required="true"
						requiredMessage="Preencha a Senha"
						validatorMessage="A Senha deve conter de 8 a 30 caracteres e pelo menos 1 número">
							<!-- Verificar o tamanho do campo -->
							<f:validateLength for="txtVlPassw" minimum="8" maximum="30"></f:validateLength>
							<!-- Verificar se a senha possui 1 número (regex) -->
							<f:validateRegex for="txtVlPassw" pattern=".*\d+.*"></f:validateRegex>		
						</p:password>
						<p:messages for="txtVlPassw" autoUpdate="true"></p:messages>
				
						<h:outputLabel value="e-mail"/>
						<p:inputText id="txtEmail" 
						value="#{UserMB.user.deEmail}"
						required="true"
						requiredMessage="Preencha o e-mail"
						validatorMessage="Email inválido"
						placeholder="exemplo@email.com">
							<!-- Verificar o tamanho do campo -->
							<f:validateLength for="txtVlPassw" minimum="5" maximum="250"></f:validateLength>
							<!-- Verificar se é um email válido (regex) -->
							<f:validateRegex for="txtVlPassw" pattern="\w+(?:\.|-)?@\w+(?:\.)\w+"></f:validateRegex>
						</p:inputText>
						<p:messages for="txtEmail" autoUpdate="true"></p:messages>
						
						<p:commandButton value="Cadastrar" action="#{UserMB.newUser}"></p:commandButton>
					</p:panelGrid>									
			</h:form>
	</p:panel>
	<ui:include src="/templates/footer.xhtml" />	
</h:body>
</html>